---
title: Hook useStyled
description: Referência completa para o hook useStyled, o coração da biblioteca para criar componentes estilizados com variantes.
---


O hook `useStyled` é a principal API da biblioteca `use-styled`. Ele permite criar componentes React e React Native estilizados, encapsulando lógica de estilos, variantes e props padrão de forma declarativa.

## Assinatura

```typescript 
function useStyled<T extends React.ElementType, C extends Config<T>>(
  component: T, 
  config: C
): StyledComponent<T, C>;
```

-   **`component`**: O componente base que você deseja estilizar.
-   **`config`**: Um objeto de configuração que define os estilos, variantes e comportamentos.
-   **Retorna**: Um novo componente React (`StyledComponent`) que aplica a configuração ao `component` base.

## Argumento `component`

O primeiro argumento pode ser:

*   **String de Elemento HTML**: Ex: `'div'`, `'button'`, `'span'`. (Para React Web)
*   **Componente React Native**: Ex: `View`, `Text`, `Pressable` de `react-native`.
*   **Componente Funcional ou Classe React/React Native**: Qualquer componente customizado que aceite `className` e/ou `style`, além de outras props. `useStyled` inferirá automaticamente as props aceitas por este componente.

## Argumento `config`

Este objeto define toda a lógica de estilização e variantes.

### `base` (Opcional)

Um objeto contendo props que serão **sempre** aplicadas ao `Component` base.

*   Use `className` para aplicar classes CSS (Tailwind, NativeWind, etc.).
*   Use `style` para aplicar estilos inline (objetos de estilo React/React Native).
*   Passe quaisquer outras props válidas para o `Component` base (ex: `type`, `data-testid`, `accessibilityRole`, etc.).

```js
config: {
  base: {
    className: 'font-sans transition-colors',
    style: { margin: 0 },
    type: 'button', // Se Component for 'button'
  }
}
```

### `variants` (Opcional)

Define os diferentes estados visuais ou comportamentais do componente.

*   A chave principal é o **nome da variante** (que se tornará uma prop no componente final).
*   As chaves internas são os **valores possíveis** para essa variante (strings ou booleanos).
*   O valor final é um objeto de props (`className`, `style`, ou outras) a serem aplicadas quando essa variante específica estiver ativa.

```js
config: {
  variants: {
    intent: { // Nome da variante: 'intent'
      primary: { className: 'bg-blue-500 text-white' }, // Valor: 'primary'
      secondary: { className: 'bg-gray-200 text-black' }, // Valor: 'secondary'
    },
    size: { // Nome da variante: 'size'
      small: { className: 'px-2 py-1 text-sm' },
      medium: { className: 'px-4 py-2 text-base' },
    },
    disabled: { // Nome da variante: 'disabled'
      true: { className: 'opacity-50 cursor-not-allowed' }, // Valor booleano: true
      // false: { ... } // Opcional: estilos para quando disabled={false}
    }
  }
}
```

### `defaultVariants` (Opcional)

Especifica os valores padrão para as variantes definidas. Se uma prop de variante não for passada para o componente estilizado, o valor definido aqui será usado.

```js
config: {
  variants: { /* ... */ },
  defaultVariants: {
    intent: 'primary',
    size: 'medium',
    disabled: false,
  }
}
```

### `compoundVariants` (Opcional)

Permite aplicar props adicionais **somente quando uma combinação específica de variantes** está ativa. É um array de objetos.

*   Cada objeto no array define as condições (pares `nomeVariante: valorVariante`).
*   A propriedade `props` (ou diretamente `className`/`style`) dentro do objeto define as props a serem aplicadas quando **todas** as condições são atendidas.
*   As props de `compoundVariants` são mescladas *após* as props de `base` e `variants` ativas.

```js
config: {
  variants: { /* ... */ },
  compoundVariants: [
    {
      intent: 'primary',
      disabled: true,
      props: { 
        className: 'bg-blue-800 border-blue-900',
        style: { /* pode adicionar estilos também */ }
      }
    },
    {
      intent: 'secondary',
      size: 'small',
      props: { 
        style: { borderWidth: 1 }
      }
    }
  ]
}
```

## Prop Forwarding (Encaminhamento de Props)

Qualquer prop passada para o componente retornado por `useStyled` que **não** seja um nome de variante definido na `config` será automaticamente encaminhada para o `Component` base.

Isso inclui `ref`, manipuladores de evento (`onClick`, `onLayout`, etc.), atributos `data-*`, `aria-*`, `id`, e quaisquer outras props específicas do `Component` base.

## Mesclagem de `className` e `style`

`useStyled` mescla inteligentemente as props `className` e `style` de todas as fontes (`base`, `variants`, `compoundVariants`, e props passadas diretamente ao componente):

*   **`className`**: Strings são combinadas usando `clsx`. Se você estiver usando Tailwind/NativeWind, os conflitos entre classes utilitárias são resolvidos automaticamente usando `tailwind-merge`.
*   **`style`**: Objetos de estilo são mesclados (shallow merge).
*   **Precedência**: Props passadas diretamente ao componente têm a maior precedência, seguidas por `compoundVariants`, `variants`, e por último `base`.
*   **Atenção**: Conforme discutido em [Uso Avançado > Sobrescrevendo Estilos](../advanced-usage#atenção-usando-style-e-classname-juntos), evite definir a mesma propriedade em `style` e `className` para melhor performance e clareza.

## Exemplo Completo

```tsx
import React from 'react';
import { useStyled } from 'use-styled';
import { Pressable, Text } from 'react-native'; // Exemplo RN

const StyledButton = useStyled(Pressable, {
  base: {
    className: 'flex-row items-center justify-center rounded-lg shadow',
    accessibilityRole: 'button',
    style: { borderWidth: 1, borderColor: 'transparent' }, // Base style
  },
  variants: {
    intent: {
      primary: { className: 'bg-indigo-600' },
      secondary: { className: 'bg-gray-200 border-gray-300' },
      danger: { className: 'bg-red-600' },
    },
    size: {
      sm: { className: 'px-3 py-1.5 text-sm' },
      md: { className: 'px-4 py-2 text-base' },
      lg: { className: 'px-6 py-3 text-lg' },
    },
    outline: {
      true: { className: 'bg-transparent' },
    },
    disabled: {
      true: { className: 'opacity-60' },
    },
  },
  defaultVariants: {
    intent: 'primary',
    size: 'md',
    outline: false,
    disabled: false,
  },
  compoundVariants: [
    // Estilos de texto e borda para variantes outline
    {
      intent: 'primary',
      outline: true,
      props: { className: 'border-indigo-600 text-indigo-600' }
    },
    {
      intent: 'secondary',
      outline: true,
      props: { className: 'border-gray-400 text-gray-700' }
    },
    {
      intent: 'danger',
      outline: true,
      props: { className: 'border-red-600 text-red-600' }
    },
    // Ajuste para disabled + primary
    {
      intent: 'primary',
      disabled: true,
      props: { className: 'bg-indigo-400' }
    },
  ],
});

// -- Uso --
function App() {
  return (
    <StyledButton 
      intent="danger" 
      size="lg" 
      outline 
      onPress={() => console.log('Danger outline lg')} 
      // className="mt-4" // Pode passar className direto também
    >
      {/* Idealmente, usar Button.Text de useSlot aqui, mas para simplificar: */}
      <Text className="text-red-600 text-lg font-semibold">Delete Action</Text>
    </StyledButton>
  );
}
```

## TypeScript

`useStyled` possui forte integração com TypeScript. Ele infere as props permitidas do `Component` base e valida a `config`. Veja mais na página [Integração com TypeScript](../typescript).
